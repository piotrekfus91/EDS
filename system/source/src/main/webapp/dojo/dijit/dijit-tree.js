/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(_1){var _2=this;dojo.mixin(_2,_1);_2.node=_1.node;_2._showArgs=dojo.mixin({},_1);_2._showArgs.node=_2.node;_2._showArgs.duration=_2.showDuration;_2.showAnim=_2.showFunc(_2._showArgs);_2._hideArgs=dojo.mixin({},_1);_2._hideArgs.node=_2.node;_2._hideArgs.duration=_2.hideDuration;_2.hideAnim=_2.hideFunc(_2._hideArgs);dojo.connect(_2.showAnim,"beforeBegin",dojo.hitch(_2.hideAnim,"stop",true));dojo.connect(_2.hideAnim,"beforeBegin",dojo.hitch(_2.showAnim,"stop",true));},show:function(_3){return this.showAnim.play(_3||0);},hide:function(_4){return this.hideAnim.play(_4||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_5={_fire:function(_6,_7){if(this[_6]){this[_6].apply(this,_7||[]);}return this;}};var _8=function(_9){this._index=-1;this._animations=_9||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_8,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_a,_b){if(!this._current){this._current=this._animations[this._index=0];}if(!_b&&this._current.status()=="playing"){return this;}var _c=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_d=d.connect(this._current,"onBegin",this,function(_e){this._fire("onBegin",arguments);}),_f=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_c);d.disconnect(_d);d.disconnect(_f);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_10,_11){this.pause();var _12=this.duration*_10;this._current=null;d.some(this._animations,function(a){if(a.duration<=_12){this._current=a;return true;}_12-=a.duration;return false;});if(this._current){this._current.gotoPercent(_12/this._current.duration,_11);}return this;},stop:function(_13){if(this._current){if(_13){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_8,_5);dojo.fx.chain=function(_14){return new _8(_14);};var _15=function(_16){this._animations=_16||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_16,function(a){var _17=a.duration;if(a.delay){_17+=a.delay;}if(this.duration<_17){this.duration=_17;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var _18=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){_18._connects.push(d.connect(_18._pseudoAnimation,evt,function(){_18._fire(evt,arguments);}));});};d.extend(_15,{_doAction:function(_19,_1a){d.forEach(this._animations,function(a){a[_19].apply(a,_1a);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_1b,_1c){var t=this._pseudoAnimation;t[_1b].apply(t,_1c);},play:function(_1d,_1e){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_1f,_20){var ms=this.duration*_1f;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_20);});this._call("gotoPercent",arguments);return this;},stop:function(_21){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_15,_5);dojo.fx.combine=function(_22){return new _15(_22);};dojo.fx.wipeIn=function(_23){var _24=_23.node=d.byId(_23.node),s=_24.style,o;var _25=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _26=d.style(_24,"height");return Math.max(_26,1);}},end:function(){return _24.scrollHeight;}}}},_23));d.connect(_25,"onEnd",function(){s.height="auto";s.overflow=o;});return _25;};dojo.fx.wipeOut=function(_27){var _28=_27.node=d.byId(_27.node),s=_28.style,o;var _29=d.animateProperty(d.mixin({properties:{height:{end:1}}},_27));d.connect(_29,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(_29,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return _29;};dojo.fx.slideTo=function(_2a){var _2b=_2a.node=d.byId(_2a.node),top=null,_2c=null;var _2d=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);_2c=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;_2c=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=_2c+"px";}};})(_2b);_2d();var _2e=d.animateProperty(d.mixin({properties:{top:_2a.top||0,left:_2a.left||0}},_2a));d.connect(_2e,"beforeBegin",_2e,_2d);return _2e;};})();}if(!dojo._hasResource["dojo.DeferredList"]){dojo._hasResource["dojo.DeferredList"]=true;dojo.provide("dojo.DeferredList");dojo.declare("dojo.DeferredList",dojo.Deferred,{constructor:function(_2f,_30,_31,_32,_33){this.list=_2f;this.resultList=new Array(this.list.length);this.chain=[];this.id=this._nextId();this.fired=-1;this.paused=0;this.results=[null,null];this.canceller=_33;this.silentlyCancelled=false;if(this.list.length===0&&!_30){this.callback(this.resultList);}this.finishedCount=0;this.fireOnOneCallback=_30;this.fireOnOneErrback=_31;this.consumeErrors=_32;dojo.forEach(this.list,function(d,_34){d.addCallback(this,function(r){this._cbDeferred(_34,true,r);return r;});d.addErrback(this,function(r){this._cbDeferred(_34,false,r);return r;});},this);},_cbDeferred:function(_35,_36,_37){this.resultList[_35]=[_36,_37];this.finishedCount+=1;if(this.fired!==0){if(_36&&this.fireOnOneCallback){this.callback([_35,_37]);}else{if(!_36&&this.fireOnOneErrback){this.errback(_37);}else{if(this.finishedCount==this.list.length){this.callback(this.resultList);}}}}if(!_36&&this.consumeErrors){_37=null;}return _37;},gatherResults:function(_38){var d=new dojo.DeferredList(_38,false,true,false);d.addCallback(function(_39){var ret=[];dojo.forEach(_39,function(_3a){ret.push(_3a[1]);});return ret;});return d;}});}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_3b){if(this._hash[_3b.id]){throw new Error("Tried to register widget with id=="+_3b.id+" but that id is already registered");}this._hash[_3b.id]=_3b;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_3c,_3d){_3d=_3d||dojo.global;var i=0,id;for(id in this._hash){_3c.call(_3d,this._hash[id],i++,this._hash);}return this;},filter:function(_3e,_3f){_3f=_3f||dojo.global;var res=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_3e.call(_3f,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new dijit.WidgetSet(),id,_40;for(id in this._hash){_40=this._hash[id];if(_40.declaredClass==cls){res.add(_40);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_41,_42){return dojo.map(this.toArray(),_41,_42);},every:function(_43,_44){_44=_44||dojo.global;var x=0,i;for(i in this._hash){if(!_43.call(_44,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_45,_46){_46=_46||dojo.global;var x=0,i;for(i in this._hash){if(_45.call(_46,this._hash[i],x++,this._hash)){return true;}}return false;}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_47){var id;do{id=_47+"_"+(_47 in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_47]:dijit._widgetTypeCtr[_47]=0);}while(dijit.byId(id));return id;};dijit.findWidgets=function(_48){var _49=[];function _4a(_4b){for(var _4c=_4b.firstChild;_4c;_4c=_4c.nextSibling){if(_4c.nodeType==1){var _4d=_4c.getAttribute("widgetId");if(_4d){var _4e=dijit.byId(_4d);_49.push(_4e);}else{_4a(_4c);}}}};_4a(_48);return _49;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_4f){if(!_4f._destroyed){if(_4f.destroyRecursive){_4f.destroyRecursive();}else{if(_4f.destroy){_4f.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byId=function(id){return typeof id=="string"?dijit.registry._hash[id]:id;};dijit.byNode=function(_50){return dijit.registry.byId(_50.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(_51){while(_51){var id=_51.getAttribute&&_51.getAttribute("widgetId");if(id){return dijit.byId(id);}_51=_51.parentNode;}return null;};dijit._isElementShown=function(_52){var _53=dojo.style(_52);return (_53.visibility!="hidden")&&(_53.visibility!="collapsed")&&(_53.display!="none")&&(dojo.attr(_52,"type")!="hidden");};dijit.isTabNavigable=function(_54){if(dojo.attr(_54,"disabled")){return false;}else{if(dojo.hasAttr(_54,"tabIndex")){return dojo.attr(_54,"tabIndex")>=0;}else{switch(_54.nodeName.toLowerCase()){case "a":return dojo.hasAttr(_54,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":if(dojo.isMoz){return _54.contentDocument.designMode=="on";}else{if(dojo.isWebKit){var doc=_54.contentDocument,_55=doc&&doc.body;return _55&&_55.contentEditable=="true";}else{doc=_54.contentWindow.document;_55=doc&&doc.body;return _55&&_55.firstChild&&_55.firstChild.contentEditable=="true";}}default:return _54.contentEditable=="true";}}}};dijit._getTabNavigable=function(_56){var _57,_58,_59,_5a,_5b,_5c;var _5d=function(_5e){dojo.query("> *",_5e).forEach(function(_5f){var _60=dijit._isElementShown(_5f);if(_60&&dijit.isTabNavigable(_5f)){var _61=dojo.attr(_5f,"tabIndex");if(!dojo.hasAttr(_5f,"tabIndex")||_61==0){if(!_57){_57=_5f;}_58=_5f;}else{if(_61>0){if(!_59||_61<_5a){_5a=_61;_59=_5f;}if(!_5b||_61>=_5c){_5c=_61;_5b=_5f;}}}}if(_60&&_5f.nodeName.toUpperCase()!="SELECT"){_5d(_5f);}});};if(dijit._isElementShown(_56)){_5d(_56);}return {first:_57,last:_58,lowest:_59,highest:_5b};};dijit.getFirstInTabbingOrder=function(_62){var _63=dijit._getTabNavigable(dojo.byId(_62));return _63.lowest?_63.lowest:_63.first;};dijit.getLastInTabbingOrder=function(_64){var _65=dijit._getTabNavigable(dojo.byId(_64));return _65.last?_65.last:_65.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_66){var _67=dojo.doc,_68=_66.mark;if(_68){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(_68.pRange){var r=_68;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(_68);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_67.selection&&_68){var rg;if(_68.pRange){rg=_68.range;}else{if(dojo.isArray(_68)){rg=_67.body.createControlRange();dojo.forEach(_68,function(n){rg.addElement(n);});}else{rg=_67.body.createTextRange();rg.moveToBookmark(_68);}}rg.select();}}}},getFocus:function(_69,_6a){var _6b=!dijit._curFocus||(_69&&dojo.isDescendant(dijit._curFocus,_69.domNode))?dijit._prevFocus:dijit._curFocus;return {node:_6b,bookmark:(_6b==dijit._curFocus)&&dojo.withGlobal(_6a||dojo.global,dijit.getBookmark),openedForWindow:_6a};},focus:function(_6c){if(!_6c){return;}var _6d="node" in _6c?_6c.node:_6c,_6e=_6c.bookmark,_6f=_6c.openedForWindow,_70=_6e?_6e.isCollapsed:false;if(_6d){var _71=(_6d.tagName.toLowerCase()=="iframe")?_6d.contentWindow:_6d;if(_71&&_71.focus){try{_71.focus();}catch(e){}}dijit._onFocusNode(_6d);}if(_6e&&dojo.withGlobal(_6f||dojo.global,dijit.isCollapsed)&&!_70){if(_6f){_6f.focus();}try{dojo.withGlobal(_6f||dojo.global,dijit.moveToBookmark,null,[_6e]);}catch(e2){}}},_activeStack:[],registerIframe:function(_72){return dijit.registerWin(_72.contentWindow,_72);},unregisterIframe:function(_73){dijit.unregisterWin(_73);},registerWin:function(_74,_75){var _76=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(_75||evt.target||evt.srcElement);};var doc=dojo.isIE?_74.document.documentElement:_74.document;if(doc){if(dojo.isIE){doc.attachEvent("onmousedown",_76);var _77=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_75||evt.srcElement);}else{dijit._onTouchNode(_75||evt.srcElement);}};doc.attachEvent("onactivate",_77);var _78=function(evt){dijit._onBlurNode(_75||evt.srcElement);};doc.attachEvent("ondeactivate",_78);return function(){doc.detachEvent("onmousedown",_76);doc.detachEvent("onactivate",_77);doc.detachEvent("ondeactivate",_78);doc=null;};}else{doc.addEventListener("mousedown",_76,true);var _79=function(evt){dijit._onFocusNode(_75||evt.target);};doc.addEventListener("focus",_79,true);var _7a=function(evt){dijit._onBlurNode(_75||evt.target);};doc.addEventListener("blur",_7a,true);return function(){doc.removeEventListener("mousedown",_76,true);doc.removeEventListener("focus",_79,true);doc.removeEventListener("blur",_7a,true);doc=null;};}}},unregisterWin:function(_7b){_7b&&_7b();},_onBlurNode:function(_7c){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_7d){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _7e=[];try{while(_7d){var _7f=dojo.attr(_7d,"dijitPopupParent");if(_7f){_7d=dijit.byId(_7f).domNode;}else{if(_7d.tagName&&_7d.tagName.toLowerCase()=="body"){if(_7d===dojo.body()){break;}_7d=dijit.getDocumentWindow(_7d.ownerDocument).frameElement;}else{var id=_7d.getAttribute&&_7d.getAttribute("widgetId");if(id){_7e.unshift(id);}_7d=_7d.parentNode;}}}}catch(e){}dijit._setStack(_7e);},_onFocusNode:function(_80){if(!_80){return;}if(_80.nodeType==9){return;}dijit._onTouchNode(_80);if(_80==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_80;dojo.publish("focusNode",[_80]);},_setStack:function(_81){var _82=dijit._activeStack;dijit._activeStack=_81;for(var _83=0;_83<Math.min(_82.length,_81.length);_83++){if(_82[_83]!=_81[_83]){break;}}var _84;for(var i=_82.length-1;i>=_83;i--){_84=dijit.byId(_82[i]);if(_84){_84._focused=false;_84._hasBeenBlurred=true;if(_84._onBlur){_84._onBlur();}if(_84._setStateClass){_84._setStateClass();}dojo.publish("widgetBlur",[_84]);}}for(i=_83;i<_81.length;i++){_84=dijit.byId(_81[i]);if(_84){_84._focused=true;if(_84._onFocus){_84._onFocus();}if(_84._setStateClass){_84._setStateClass();}dojo.publish("widgetFocus",[_84]);}}}});dojo.addOnLoad(function(){var _85=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_85);_85=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_86){this.pairs=[];this.returnWrappers=_86||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_87,_88,_89,_8a,_8b){this.pairs[((_8b)?"unshift":"push")]([_87,_88,_89,_8a]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _8c=this.pairs[i];if(_8c[1].apply(this,arguments)){if((_8c[3])||(this.returnWrappers)){return _8c[2];}else{return _8c[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_8d){for(var i=0;i<this.pairs.length;i++){var _8e=this.pairs[i];if(_8e[0]==_8d){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _8f=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _90=dojo._docScroll();return {w:_8f.clientWidth,h:_8f.clientHeight,l:_90.x,t:_90.y};};dijit.placeOnScreen=function(_91,pos,_92,_93){var _94=dojo.map(_92,function(_95){var c={corner:_95,pos:{x:pos.x,y:pos.y}};if(_93){c.pos.x+=_95.charAt(1)=="L"?_93.x:-_93.x;c.pos.y+=_95.charAt(0)=="T"?_93.y:-_93.y;}return c;});return dijit._place(_91,_94);};dijit._place=function(_96,_97,_98){var _99=dijit.getViewport();if(!_96.parentNode||String(_96.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_96);}var _9a=null;dojo.some(_97,function(_9b){var _9c=_9b.corner;var pos=_9b.pos;if(_98){_98(_96,_9b.aroundCorner,_9c);}var _9d=_96.style;var _9e=_9d.display;var _9f=_9d.visibility;_9d.visibility="hidden";_9d.display="";var mb=dojo.marginBox(_96);_9d.display=_9e;_9d.visibility=_9f;var _a0=Math.max(_99.l,_9c.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_a1=Math.max(_99.t,_9c.charAt(0)=="T"?pos.y:(pos.y-mb.h)),_a2=Math.min(_99.l+_99.w,_9c.charAt(1)=="L"?(_a0+mb.w):pos.x),_a3=Math.min(_99.t+_99.h,_9c.charAt(0)=="T"?(_a1+mb.h):pos.y),_a4=_a2-_a0,_a5=_a3-_a1,_a6=(mb.w-_a4)+(mb.h-_a5);if(_9a==null||_a6<_9a.overflow){_9a={corner:_9c,aroundCorner:_9b.aroundCorner,x:_a0,y:_a1,w:_a4,h:_a5,overflow:_a6};}return !_a6;});_96.style.left=_9a.x+"px";_96.style.top=_9a.y+"px";if(_9a.overflow&&_98){_98(_96,_9a.aroundCorner,_9a.corner);}return _9a;};dijit.placeOnScreenAroundNode=function(_a7,_a8,_a9,_aa){_a8=dojo.byId(_a8);var _ab=_a8.style.display;_a8.style.display="";var _ac=dojo.position(_a8,true);_a8.style.display=_ab;return dijit._placeOnScreenAroundRect(_a7,_ac.x,_ac.y,_ac.w,_ac.h,_a9,_aa);};dijit.placeOnScreenAroundRectangle=function(_ad,_ae,_af,_b0){return dijit._placeOnScreenAroundRect(_ad,_ae.x,_ae.y,_ae.width,_ae.height,_af,_b0);};dijit._placeOnScreenAroundRect=function(_b1,x,y,_b2,_b3,_b4,_b5){var _b6=[];for(var _b7 in _b4){_b6.push({aroundCorner:_b7,corner:_b4[_b7],pos:{x:x+(_b7.charAt(1)=="L"?0:_b2),y:y+(_b7.charAt(0)=="T"?0:_b3)}});}return dijit._place(_b1,_b6,_b5);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(_b8,_b9,_ba,_bb){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAlignment=function(_bc,_bd){var _be={};dojo.forEach(_bc,function(pos){switch(pos){case "after":_be[_bd?"BR":"BL"]=_bd?"BL":"BR";break;case "before":_be[_bd?"BL":"BR"]=_bd?"BR":"BL";break;case "below":_be[_bd?"BL":"BR"]=_bd?"TL":"TR";_be[_bd?"BR":"BL"]=_bd?"TR":"TL";break;case "above":default:_be[_bd?"TL":"TR"]=_bd?"BL":"BR";_be[_bd?"TR":"TL"]=_bd?"BR":"BL";break;}});return _be;};dijit.getPopupAroundAlignment=function(_bf,_c0){var _c1={};dojo.forEach(_bf,function(pos){switch(pos){case "after":_c1[_c0?"BR":"BL"]=_c0?"BL":"BR";break;case "before":_c1[_c0?"BL":"BR"]=_c0?"BR":"BL";break;case "below":_c1[_c0?"BL":"BR"]=_c0?"TL":"TR";_c1[_c0?"BR":"BL"]=_c0?"TR":"TL";break;case "above":default:_c1[_c0?"TL":"TR"]=_c0?"BL":"BR";_c1[_c0?"TR":"TL"]=_c0?"BR":"BL";break;}});return _c1;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _c2=[],_c3=1000,_c4=1;this.moveOffScreen=function(_c5){var s=_c5.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}dojo.body().appendChild(_c5);};var _c6=function(){for(var pi=_c2.length-1;pi>0&&_c2[pi].parent===_c2[pi-1].widget;pi--){}return _c2[pi];};var _c7=[];this.open=function(_c8){var _c9=_c8.popup,_ca=_c8.orient||(dojo._isBodyLtr()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_cb=_c8.around,id=(_c8.around&&_c8.around.id)?(_c8.around.id+"_dropdown"):("popup_"+_c4++);var _cc=_c7.pop(),_cd,_ce;if(!_cc){_cd=dojo.create("div",{"class":"dijitPopup"},dojo.body());dijit.setWaiRole(_cd,"presentation");}else{_cd=_cc[0];_ce=_cc[1];}dojo.attr(_cd,{id:id,style:{zIndex:_c3+_c2.length,visibility:"hidden",top:"-9999px"},dijitPopupParent:_c8.parent?_c8.parent.id:""});var s=_c9.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_cd.appendChild(_c9.domNode);if(!_ce){_ce=new dijit.BackgroundIframe(_cd);}else{_ce.resize(_cd);}var _cf=_cb?dijit.placeOnScreenAroundElement(_cd,_cb,_ca,_c9.orient?dojo.hitch(_c9,"orient"):null):dijit.placeOnScreen(_cd,_c8,_ca=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_c8.padding);_cd.style.visibility="visible";var _d0=[];_d0.push(dojo.connect(_cd,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_c8.onCancel){dojo.stopEvent(evt);_c8.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _d1=_c6();if(_d1&&_d1.onCancel){_d1.onCancel();}}}}));if(_c9.onCancel){_d0.push(dojo.connect(_c9,"onCancel",_c8.onCancel));}_d0.push(dojo.connect(_c9,_c9.onExecute?"onExecute":"onChange",function(){var _d2=_c6();if(_d2&&_d2.onExecute){_d2.onExecute();}}));_c2.push({wrapper:_cd,iframe:_ce,widget:_c9,parent:_c8.parent,onExecute:_c8.onExecute,onCancel:_c8.onCancel,onClose:_c8.onClose,handlers:_d0});if(_c9.onOpen){_c9.onOpen(_cf);}return _cf;};this.close=function(_d3){while(dojo.some(_c2,function(_d4){return _d4.widget==_d3;})){var top=_c2.pop(),_d5=top.wrapper,_d6=top.iframe,_d7=top.widget,_d8=top.onClose;if(_d7.onClose){_d7.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_d7&&_d7.domNode){this.moveOffScreen(_d7.domNode);}_d5.style.top="-9999px";_d5.style.visibility="hidden";_c7.push([_d5,_d6]);if(_d8){_d8();}}};}();dijit._frames=new function(){var _d9=[];this.pop=function(){var _da;if(_d9.length){_da=_d9.pop();_da.style.display="";}else{if(dojo.isIE){var _db=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var _dc="<iframe src='"+_db+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_da=dojo.doc.createElement(_dc);}else{_da=dojo.create("iframe");_da.src="javascript:\"\"";_da.className="dijitBackgroundIframe";dojo.style(_da,"opacity",0.1);}_da.tabIndex=-1;}return _da;};this.push=function(_dd){_dd.style.display="none";_d9.push(_dd);};}();dijit.BackgroundIframe=function(_de){if(!_de.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _df=dijit._frames.pop();_de.appendChild(_df);if(dojo.isIE<7){this.resize(_de);this._conn=dojo.connect(_de,"onresize",this,function(){this.resize(_de);});}else{dojo.style(_df,{width:"100%",height:"100%"});}this.iframe=_df;}};dojo.extend(dijit.BackgroundIframe,{resize:function(_e0){if(this.iframe&&dojo.isIE<7){dojo.style(this.iframe,{width:_e0.offsetWidth+"px",height:_e0.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(_e1,pos){try{_e1=dojo.byId(_e1);var doc=_e1.ownerDocument||dojo.doc,_e2=doc.body||dojo.body(),_e3=doc.documentElement||_e2.parentNode,_e4=dojo.isIE,_e5=dojo.isWebKit;if((!(dojo.isMoz||_e4||_e5)||_e1==_e2||_e1==_e3)&&(typeof _e1.scrollIntoView!="undefined")){_e1.scrollIntoView(false);return;}var _e6=doc.compatMode=="BackCompat",_e7=_e6?_e2:_e3,_e8=_e5?_e2:_e7,_e9=_e7.clientWidth,_ea=_e7.clientHeight,rtl=!dojo._isBodyLtr(),_eb=pos||dojo.position(_e1),el=_e1.parentNode,_ec=function(el){return ((_e4<=6||(_e4&&_e6))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_ec(_e1)){return;}while(el){if(el==_e2){el=_e8;}var _ed=dojo.position(el),_ee=_ec(el);with(_ed){if(el==_e8){w=_e9,h=_ea;if(_e8==_e3&&_e4&&rtl){x+=_e8.offsetWidth-w;}if(x<0||!_e4){x=0;}if(y<0||!_e4){y=0;}}else{var pb=dojo._getPadBorderExtents(el);w-=pb.w;h-=pb.h;x+=pb.l;y+=pb.t;}with(el){if(el!=_e8){var _ef=clientWidth,_f0=w-_ef;if(_ef>0&&_f0>0){w=_ef;if(_e4&&rtl){x+=_f0;}}_ef=clientHeight;_f0=h-_ef;if(_ef>0&&_f0>0){h=_ef;}}if(_ee){if(y<0){h+=y,y=0;}if(x<0){w+=x,x=0;}if(y+h>_ea){h=_ea-y;}if(x+w>_e9){w=_e9-x;}}var l=_eb.x-x,t=_eb.y-Math.max(y,0),r=l+_eb.w-w,bot=t+_eb.h-h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);_eb.x+=scrollLeft;scrollLeft+=(_e4>=8&&!_e6&&rtl)?-s:s;_eb.x-=scrollLeft;}if(bot*t>0){_eb.y+=scrollTop;scrollTop+=Math[t<0?"max":"min"](t,bot);_eb.y-=scrollTop;}}}el=(el!=_e8)&&!_ee&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_e1.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo,_f1=d.doc.documentElement,ie=d.isIE,_f2=d.isOpera,maj=Math.floor,ff=d.isFF,_f3=d.boxModel.replace(/-/,""),_f4={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_iequirks:ie&&d.isQuirks,dj_opera:_f2,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_f4["dj_"+_f3]=true;for(var p in _f4){if(_f4[p]){if(_f1.className){_f1.className+=" "+p;}else{_f1.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){_f1.className+=" dijitRtl";for(var p in _f4){if(_f4[p]){_f1.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),10);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_f5,_f6,_f7,obj,_f8,_f9){if(obj!=this._obj){this.stop();this._initialDelay=_f9||500;this._subsequentDelay=_f8||0.9;this._obj=obj;this._evt=evt;this._node=_f6;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_f5,_f7);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(_fa,_fb,_fc,_fd,_fe,_ff){if(_fb.keyCode){_fb.charOrCode=_fb.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_fb.charCode){_fb.charOrCode=String.fromCharCode(_fb.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(_fa,"onkeypress",this,function(evt){if(evt.charOrCode==_fb.charOrCode&&(_fb.ctrlKey===undefined||_fb.ctrlKey==evt.ctrlKey)&&(_fb.altKey===undefined||_fb.altKey==evt.altKey)&&(_fb.metaKey===undefined||_fb.metaKey==(evt.metaKey||false))&&(_fb.shiftKey===undefined||_fb.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_fb,_fc,_fa,_fd,_fb,_fe,_ff);}else{if(dijit.typematic._obj==_fb){dijit.typematic.stop();}}}),dojo.connect(_fa,"onkeyup",this,function(evt){if(dijit.typematic._obj==_fb){dijit.typematic.stop();}})];},addMouseListener:function(node,_100,_101,_102,_103){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_100,node,_101,node,_102,_103);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_100,node,_101,node,_102,_103);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_104,_105,_106,_107,_108,_109,_10a){return this.addKeyListener(_105,_106,_107,_108,_109,_10a).concat(this.addMouseListener(_104,_107,_108,_109,_10a));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _10b=cs.backgroundImage;var _10c=(cs.borderTopColor==cs.borderRightColor)||(_10b!=null&&(_10b=="none"||_10b=="url(invalid-url:)"));dojo[_10c?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _10d=this.getWaiRole(elem);return role?(_10d.indexOf(role)>-1):(_10d.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _10e=dojo.attr(elem,"role")||"";if(!this._XhtmlRoles.test(_10e)){dojo.attr(elem,"role",role);}else{if((" "+_10e+" ").indexOf(" "+role+" ")<0){var _10f=dojo.trim(_10e.replace(this._XhtmlRoles,""));var _110=dojo.trim(_10e.replace(_10f,""));dojo.attr(elem,"role",_110+(_110?" ":"")+role);}}},removeWaiRole:function(elem,role){var _111=dojo.attr(elem,"role");if(!_111){return;}if(role){var t=dojo.trim((" "+_111+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_112){return elem.hasAttribute?elem.hasAttribute("aria-"+_112):!!elem.getAttribute("aria-"+_112);},getWaiState:function(elem,_113){return elem.getAttribute("aria-"+_113)||"";},setWaiState:function(elem,_114,_115){elem.setAttribute("aria-"+_114,_115);},removeWaiState:function(elem,_116){elem.removeAttribute("aria-"+_116);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"_connect",function(_117,_118){if(_117&&dojo.isFunction(_117._onConnect)){_117._onConnect(_118);}});dijit._connectOnUseEventHandler=function(_119){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _11a=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_11a);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_11a);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){var _11b={},_11c=function(_11d){var dc=_11d.declaredClass;if(!_11b[dc]){var r=[],_11e,_11f=_11d.constructor.prototype;for(var _120 in _11f){if(dojo.isFunction(_11f[_120])&&(_11e=_120.match(/^_set([a-zA-Z]*)Attr$/))&&_11e[1]){r.push(_11e[1].charAt(0).toLowerCase()+_11e[1].substr(1));}}_11b[dc]=r;}return _11b[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_121,_122){this.create(_121,_122);},create:function(_123,_124){this.srcNodeRef=dojo.byId(_124);this._connects=[];this._subscribes=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_123){this.params=_123;dojo.mixin(this,_123);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _125=this.srcNodeRef;if(_125&&_125.parentNode){_125.parentNode.replaceChild(this.domNode,_125);}for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _126=function(attr,_127){if((_127.params&&attr in _127.params)||_127[attr]){_127.attr(attr,_127[attr]);}};for(var attr in this.attributeMap){_126(attr,this);}dojo.forEach(_11c(this),function(a){if(!(a in this.attributeMap)){_126(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_128){this._beingDestroyed=true;this.destroyDescendants(_128);this.destroy(_128);},destroy:function(_129){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_12a){dfe(_12a,d.disconnect);});dfe(this._subscribes,function(_12b){dun(_12b);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_129);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_12c){if(this.bgIframe){this.bgIframe.destroy(_12c);delete this.bgIframe;}if(this.domNode){if(_12c){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_12c){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_12d){dojo.forEach(this.getChildren(),function(_12e){if(_12e.destroyRecursive){_12e.destroyRecursive(_12d);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_12f){if(_12f in this._deferredConnects){var _130=this[this._deferredConnects[_12f]||"domNode"];this.connect(_130,_12f.toLowerCase(),_12f);delete this._deferredConnects[_12f];}},_setClassAttr:function(_131){var _132=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_132,this["class"]);this["class"]=_131;dojo.addClass(_132,_131);},_setStyleAttr:function(_133){var _134=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_133)){dojo.style(_134,_133);}else{if(_134.style.cssText){_134.style.cssText+="; "+_133;}else{_134.style.cssText=_133;}}this.style=_133;},setAttribute:function(attr,_135){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_135);},_attrToDom:function(attr,_136){var _137=this.attributeMap[attr];dojo.forEach(dojo.isArray(_137)?_137:[_137],function(_138){var _139=this[_138.node||_138||"domNode"];var type=_138.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_136)){_136=dojo.hitch(this,_136);}var _13a=_138.attribute?_138.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);dojo.attr(_139,_13a,_136);break;case "innerText":_139.innerHTML="";_139.appendChild(dojo.doc.createTextNode(_136));break;case "innerHTML":_139.innerHTML=_136;break;case "class":dojo.removeClass(_139,this[attr]);dojo.addClass(_139,_136);break;}},this);this[attr]=_136;},attr:function(name,_13b){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _13c=this._getAttrNames(name);if(args>=2){if(this[_13c.s]){args=dojo._toArray(arguments,1);return this[_13c.s].apply(this,args)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_13b);}this[name]=_13b;}return this;}else{return this[_13c.g]?this[_13c.g]():this[name];}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},nodesWithKeyClick:["input","button"],connect:function(obj,_13d,_13e){var d=dojo,dc=d._connect,_13f=[];if(_13d=="ondijitclick"){if(!this.nodesWithKeyClick[obj.tagName.toLowerCase()]){var m=d.hitch(this,_13e);_13f.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;d.stopEvent(e);}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target===dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}_13d="onclick";}_13f.push(dc(obj,_13d,this,_13e));this._connects.push(_13f);return _13f;},disconnect:function(_140){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_140){dojo.forEach(_140,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_141,_142){var d=dojo,_143=d.subscribe(_141,this,_142);this._subscribes.push(_143);return _143;},unsubscribe:function(_144){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_144){dojo.unsubscribe(_144);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_145,_146){if(_145.declaredClass&&_145.addChild){_145.addChild(this,_146);}else{dojo.place(this.domNode,_145,_146);}return this;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_147,map,_148,_149){_149=_149||dojo.global;_148=_148?dojo.hitch(_149,_148):function(v){return v;};return _147.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_14a,key,_14b){var _14c=dojo.getObject(key,false,map);if(_14b){_14c=dojo.getObject(_14b,false,_149).call(_149,_14c,key);}return _148(_14c,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_14d,_14e){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _14f=dojo.date.stamp._isoRegExp.exec(_14d),_150=null;if(_14f){_14f.shift();if(_14f[1]){_14f[1]--;}if(_14f[6]){_14f[6]*=1000;}if(_14e){_14e=new Date(_14e);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _14e["get"+prop]();}).forEach(function(_151,_152){if(_14f[_152]===undefined){_14f[_152]=_151;}});}_150=new Date(_14f[0]||1970,_14f[1]||0,_14f[2]||1,_14f[3]||0,_14f[4]||0,_14f[5]||0,_14f[6]||0);if(_14f[0]<100){_150.setFullYear(_14f[0]||1970);}var _153=0,_154=_14f[7]&&_14f[7].charAt(0);if(_154!="Z"){_153=((_14f[8]||0)*60)+(Number(_14f[9])||0);if(_154!="-"){_153*=-1;}}if(_154){_153-=_150.getTimezoneOffset();}if(_153){_150.setTime(_150.getTime()+_153*60000);}}return _150;};dojo.date.stamp.toISOString=function(_155,_156){var _157=function(n){return (n<10)?"0"+n:n;};_156=_156||{};var _158=[],_159=_156.zulu?"getUTC":"get",date="";if(_156.selector!="time"){var year=_155[_159+"FullYear"]();date=["0000".substr((year+"").length)+year,_157(_155[_159+"Month"]()+1),_157(_155[_159+"Date"]())].join("-");}_158.push(date);if(_156.selector!="date"){var time=[_157(_155[_159+"Hours"]()),_157(_155[_159+"Minutes"]()),_157(_155[_159+"Seconds"]())].join(":");var _15a=_155[_159+"Milliseconds"]();if(_156.milliseconds){time+="."+(_15a<100?"0":"")+_157(_15a);}if(_156.zulu){time+="Z";}else{if(_156.selector!="time"){var _15b=_155.getTimezoneOffset();var _15c=Math.abs(_15b);time+=(_15b>0?"-":"+")+_157(Math.floor(_15c/60))+":"+_157(_15c%60);}}_158.push(time);}return _158.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;this._attrName=d._scopeName+"Type";this._query="["+this._attrName+"]";function _15d(_15e){if(d.isString(_15e)){return "string";}if(typeof _15e=="number"){return "number";}if(typeof _15e=="boolean"){return "boolean";}if(d.isFunction(_15e)){return "function";}if(d.isArray(_15e)){return "array";}if(_15e instanceof Date){return "date";}if(_15e instanceof d._Url){return "url";}return "object";};function _15f(_160,type){switch(type){case "string":return _160;case "number":return _160.length?Number(_160):NaN;case "boolean":return typeof _160=="boolean"?_160:!(_160.toLowerCase()=="false");case "function":if(d.isFunction(_160)){_160=_160.toString();_160=d.trim(_160.substring(_160.indexOf("{")+1,_160.length-1));}try{if(_160.search(/[^\w\.]+/i)!=-1){return new Function(_160);}else{return d.getObject(_160,false);}}catch(e){return new Function();}case "array":return _160?_160.split(/\s*,\s*/):[];case "date":switch(_160){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_160);}case "url":return d.baseUrl+_160;default:return d.fromJson(_160);}};var _161={};dojo.connect(dojo,"extend",function(){_161={};});function _162(_163){if(!_161[_163]){var cls=d.getObject(_163);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_163+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _164=cls.prototype;var _165={},_166={};for(var name in _164){if(name.charAt(0)=="_"){continue;}if(name in _166){continue;}var _167=_164[name];_165[name]=_15d(_167);}_161[_163]={cls:cls,params:_165};}return _161[_163];};this._functionFromScript=function(_168){var _169="";var _16a="";var _16b=_168.getAttribute("args");if(_16b){d.forEach(_16b.split(/\s*,\s*/),function(part,idx){_169+="var "+part+" = arguments["+idx+"]; ";});}var _16c=_168.getAttribute("with");if(_16c&&_16c.length){d.forEach(_16c.split(/\s*,\s*/),function(part){_169+="with("+part+"){";_16a+="}";});}return new Function(_169+_168.innerHTML+_16a);};this.instantiate=function(_16d,_16e,args){var _16f=[],dp=dojo.parser;_16e=_16e||{};args=args||{};d.forEach(_16d,function(node){if(!node){return;}var type=dp._attrName in _16e?_16e[dp._attrName]:node.getAttribute(dp._attrName);if(!type||!type.length){return;}var _170=_162(type),_171=_170.cls,ps=_171._noScript||_171.prototype._noScript;var _172={},_173=node.attributes;for(var name in _170.params){var item=name in _16e?{value:_16e[name],specified:true}:_173.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _174=item.value;switch(name){case "class":_174="className" in _16e?_16e.className:node.className;break;case "style":_174="style" in _16e?_16e.style:(node.style&&node.style.cssText);}var _175=_170.params[name];if(typeof _174=="string"){_172[name]=_15f(_174,_175);}else{_172[name]=_174;}}if(!ps){var _176=[],_177=[];d.query("> script[type^='dojo/']",node).orphan().forEach(function(_178){var _179=_178.getAttribute("event"),type=_178.getAttribute("type"),nf=d.parser._functionFromScript(_178);if(_179){if(type=="dojo/connect"){_176.push({event:_179,func:nf});}else{_172[_179]=nf;}}else{_177.push(nf);}});}var _17a=_171.markupFactory||_171.prototype&&_171.prototype.markupFactory;var _17b=_17a?_17a(_172,node,_171):new _171(_172,node);_16f.push(_17b);var _17c=node.getAttribute("jsId");if(_17c){d.setObject(_17c,_17b);}if(!ps){d.forEach(_176,function(_17d){d.connect(_17b,_17d.event,null,_17d.func);});d.forEach(_177,function(func){func.call(_17b);});}});if(!_16e._started){d.forEach(_16f,function(_17e){if(!args.noStart&&_17e&&_17e.startup&&!_17e._started&&(!_17e.getParent||!_17e.getParent())){_17e.startup();}});}return _16f;};this.parse=function(_17f,args){var root;if(!args&&_17f&&_17f.rootNode){args=_17f;root=args.rootNode;}else{root=_17f;}var list=d.query(this._query,root);return this.instantiate(list,null,args);};}();(function(){var _180=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_180);}else{dojo._loaders.unshift(_180);}})();}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");(function(){var _181={};dojo.cache=function(_182,url,_183){if(typeof _182=="string"){var _184=dojo.moduleUrl(_182,url);}else{_184=_182;_183=url;}var key=_184.toString();var val=_183;if(_183!==undefined&&!dojo.isString(_183)){val=("value" in _183?_183.value:undefined);}var _185=_183&&_183.sanitize?true:false;if(val||val===null){if(val==null){delete _181[key];}else{val=_181[key]=_185?dojo.cache._sanitize(val):val;}}else{if(!(key in _181)){val=dojo._getText(key);_181[key]=_185?dojo.cache._sanitize(val):val;}val=_181[key];}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _186=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_186){val=_186[1];}}else{val="";}return val;};})();}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,_stringRepl:function(tmpl){var _187=this.declaredClass,_188=this;return dojo.string.substitute(tmpl,this,function(_189,key){if(key.charAt(0)=="!"){_189=dojo.getObject(key.substr(1),false,_188);}if(typeof _189=="undefined"){throw new Error(_187+" template:"+key);}if(_189==null){return "";}return key.charAt(0)=="!"?_189:_189.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){this._attachPoints=[];var _18a=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_18a)){node=dojo._toDom(this._stringRepl(_18a));if(node.nodeType!=1){throw new Error("Invalid template: "+_18a);}}else{node=_18a.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var _18b=dojo.parser,qry,attr;if(_18b._query!="[dojoType]"){qry=_18b._query;attr=_18b._attrName;_18b._query="[dojoType]";_18b._attrName="dojoType";}var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup}));if(qry){_18b._query=qry;_18b._attrName=attr;}this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_18c){var dest=this.containerNode;if(_18c&&dest){while(_18c.hasChildNodes()){dest.appendChild(_18c.firstChild);}}},_attachTemplateNodes:function(_18d,_18e){_18e=_18e||function(n,p){return n.getAttribute(p);};var _18f=dojo.isArray(_18d)?_18d:(_18d.all||_18d.getElementsByTagName("*"));var x=dojo.isArray(_18d)?0:-1;for(;x<_18f.length;x++){var _190=(x==-1)?_18d:_18f[x];if(this.widgetsInTemplate&&_18e(_190,"dojoType")){continue;}var _191=_18e(_190,"dojoAttachPoint");if(_191){var _192,_193=_191.split(/\s*,\s*/);while((_192=_193.shift())){if(dojo.isArray(this[_192])){this[_192].push(_190);}else{this[_192]=_190;}this._attachPoints.push(_192);}}var _194=_18e(_190,"dojoAttachEvent");if(_194){var _195,_196=_194.split(/\s*,\s*/);var trim=dojo.trim;while((_195=_196.shift())){if(_195){var _197=null;if(_195.indexOf(":")!=-1){var _198=_195.split(":");_195=trim(_198[0]);_197=trim(_198[1]);}else{_195=trim(_195);}if(!_197){_197=_195;}this.connect(_190,_195,_197);}}}var role=_18e(_190,"waiRole");if(role){dijit.setWaiRole(_190,role);}var _199=_18e(_190,"waiState");if(_199){dojo.forEach(_199.split(/\s*,\s*/),function(_19a){if(_19a.indexOf("-")!=-1){var pair=_19a.split("-");dijit.setWaiState(_190,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_19b){delete this[_19b];},this);this._attachPoints=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_19c,_19d,_19e){var _19f=dijit._Templated._templateCache;var key=_19d||_19c;var _1a0=_19f[key];if(_1a0){try{if(!_1a0.ownerDocument||_1a0.ownerDocument==dojo.doc){return _1a0;}}catch(e){}dojo.destroy(_1a0);}if(!_19d){_19d=dojo.cache(_19c,{sanitize:true});}_19d=dojo.string.trim(_19d);if(_19e||_19d.match(/\$\{([^\}]+)\}/g)){return (_19f[key]=_19d);}else{var node=dojo._toDom(_19d);if(node.nodeType!=1){throw new Error("Invalid template: "+_19d);}return (_19f[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _1a1=dijit._Templated._templateCache;for(var key in _1a1){var _1a2=_1a1[key];if(typeof _1a2=="object"){dojo.destroy(_1a2);}delete _1a1[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_1a3,_1a4){var _1a5=this.containerNode;if(_1a4&&typeof _1a4=="number"){var _1a6=this.getChildren();if(_1a6&&_1a6.length>=_1a4){_1a5=_1a6[_1a4-1].domNode;_1a4="after";}}dojo.place(_1a3.domNode,_1a5,_1a4);if(this._started&&!_1a3._started){_1a3.startup();}},removeChild:function(_1a7){if(typeof _1a7=="number"&&_1a7>0){_1a7=this.getChildren()[_1a7];}if(_1a7&&_1a7.domNode){var node=_1a7.domNode;node.parentNode.removeChild(node);}},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode);},hasChildren:function(){return dojo.query("> [widgetId]",this.containerNode).length>0;},destroyDescendants:function(_1a8){dojo.forEach(this.getChildren(),function(_1a9){_1a9.destroyRecursive(_1a8);});},_getSiblingOfChild:function(_1aa,dir){var node=_1aa.domNode,_1ab=(dir>0?"nextSibling":"previousSibling");do{node=node[_1ab];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_1ac){return dojo.indexOf(this.getChildren(),_1ac);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_1ad){_1ad.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){var _1ae=dijit.getEnclosingWidget(this.domNode.parentNode);return _1ae&&_1ae.isContainer?_1ae:null;},_getSibling:function(_1af){var node=this.domNode;do{node=node[_1af+"Sibling"];}while(node&&node.nodeType!=1);return node&&dijit.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_1b0){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_1b0&&_1b0.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_1b1){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_1b1);};dojo.regexp.group=function(_1b2,_1b3){return "("+(_1b3?"?:":"")+_1b2+")";};}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(name,_1b4,_1b5){var c=document.cookie;if(arguments.length==1){var _1b6=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _1b6?decodeURIComponent(_1b6[1]):undefined;}else{_1b5=_1b5||{};var exp=_1b5.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_1b5.expires=d;}if(exp&&exp.toUTCString){_1b5.expires=exp.toUTCString();}_1b4=encodeURIComponent(_1b4);var _1b7=name+"="+_1b4,_1b8;for(_1b8 in _1b5){_1b7+="; "+_1b8;var _1b9=_1b5[_1b8];if(_1b9!==true){_1b7+="="+_1b9;}}document.cookie=_1b7;}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dijit.tree.TreeStoreModel"]){dojo._hasResource["dijit.tree.TreeStoreModel"]=true;dojo.provide("dijit.tree.TreeStoreModel");dojo.declare("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){dojo.mixin(this,args);this.connects=[];var _1ba=this.store;if(!_1ba.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.Tree: store must support dojo.data.Identity");}if(_1ba.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([dojo.connect(_1ba,"onNew",this,"onNewItem"),dojo.connect(_1ba,"onDelete",this,"onDeleteItem"),dojo.connect(_1ba,"onSet",this,"onSetItem")]);}},destroy:function(){dojo.forEach(this.connects,dojo.disconnect);},getRoot:function(_1bb,_1bc){if(this.root){_1bb(this.root);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_1bd){if(_1bd.length!=1){throw new Error(this.declaredClass+": query "+dojo.toJson(this.query)+" returned "+_1bd.length+" items, but must return exactly one item");}this.root=_1bd[0];_1bb(this.root);}),onError:_1bc});}},mayHaveChildren:function(item){return dojo.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_1be,_1bf,_1c0){var _1c1=this.store;if(!_1c1.isItemLoaded(_1be)){var _1c2=dojo.hitch(this,arguments.callee);_1c1.loadItem({item:_1be,onItem:function(_1c3){_1c2(_1c3,_1bf,_1c0);},onError:_1c0});return;}var _1c4=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_1c1.getValues(_1be,this.childrenAttrs[i]);_1c4=_1c4.concat(vals);}var _1c5=0;if(!this.deferItemLoadingUntilExpand){dojo.forEach(_1c4,function(item){if(!_1c1.isItemLoaded(item)){_1c5++;}});}if(_1c5==0){_1bf(_1c4);}else{var _1c6=function _1c6(item){if(--_1c5==0){_1bf(_1c4);}};dojo.forEach(_1c4,function(item){if(!_1c1.isItemLoaded(item)){_1c1.loadItem({item:item,onItem:_1c6,onError:_1c0});}});}},isItem:function(_1c7){return this.store.isItem(_1c7);},fetchItemByIdentity:function(_1c8){this.store.fetchItemByIdentity(_1c8);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_1c9,_1ca){var _1cb={parent:_1c9,attribute:this.childrenAttrs[0],insertIndex:_1ca};if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_1c9,true,_1ca);}else{this.store.newItem(args,_1cb);}}});}else{this.store.newItem(args,_1cb);}},pasteItem:function(_1cc,_1cd,_1ce,_1cf,_1d0){var _1d1=this.store,_1d2=this.childrenAttrs[0];if(_1cd){dojo.forEach(this.childrenAttrs,function(attr){if(_1d1.containsValue(_1cd,attr,_1cc)){if(!_1cf){var _1d3=dojo.filter(_1d1.getValues(_1cd,attr),function(x){return x!=_1cc;});_1d1.setValues(_1cd,attr,_1d3);}_1d2=attr;}});}if(_1ce){if(typeof _1d0=="number"){var _1d4=_1d1.getValues(_1ce,_1d2);_1d4.splice(_1d0,0,_1cc);_1d1.setValues(_1ce,_1d2,_1d4);}else{_1d1.setValues(_1ce,_1d2,_1d1.getValues(_1ce,_1d2).concat(_1cc));}}},onChange:function(item){},onChildrenChange:function(_1d5,_1d6){},onDelete:function(_1d7,_1d8){},onNewItem:function(item,_1d9){if(!_1d9){return;}this.getChildren(_1d9.item,dojo.hitch(this,function(_1da){this.onChildrenChange(_1d9.item,_1da);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_1db,_1dc,_1dd){if(dojo.indexOf(this.childrenAttrs,_1db)!=-1){this.getChildren(item,dojo.hitch(this,function(_1de){this.onChildrenChange(item,_1de);}));}else{this.onChange(item);}}});}if(!dojo._hasResource["dijit.tree.ForestStoreModel"]){dojo._hasResource["dijit.tree.ForestStoreModel"]=true;dojo.provide("dijit.tree.ForestStoreModel");dojo.declare("dijit.tree.ForestStoreModel",dijit.tree.TreeStoreModel,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_1df){this.root={store:this,root:true,id:_1df.rootId,label:_1df.rootLabel,children:_1df.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_1e0,_1e1,_1e2){if(_1e0===this.root){if(this.root.children){_1e1(this.root.children);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_1e3){this.root.children=_1e3;_1e1(_1e3);}),onError:_1e2});}}else{this.inherited(arguments);}},isItem:function(_1e4){return (_1e4===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_1e5){if(_1e5.identity==this.root.id){var _1e6=_1e5.scope?_1e5.scope:dojo.global;if(_1e5.onItem){_1e5.onItem.call(_1e6,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_1e7,_1e8){if(_1e7===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(args){},pasteItem:function(_1e9,_1ea,_1eb,_1ec,_1ed){if(_1ea===this.root){if(!_1ec){this.onLeaveRoot(_1e9);}}dijit.tree.TreeStoreModel.prototype.pasteItem.call(this,_1e9,_1ea===this.root?null:_1ea,_1eb===this.root?null:_1eb,_1ec,_1ed);if(_1eb===this.root){this.onAddToRoot(_1e9);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _1ee=this.root.children||[];this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_1ef){this.root.children=_1ef;if(_1ee.length!=_1ef.length||dojo.some(_1ee,function(item,idx){return _1ef[idx]!=item;})){this.onChildrenChange(this.root,_1ef);}})});},onNewItem:function(item,_1f0){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(dojo.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.Tree"]){dojo._hasResource["dijit.Tree"]=true;dojo.provide("dijit.Tree");dojo.declare("dijit._TreeNode",[dijit._Widget,dijit._Templated,dijit._Container,dijit._Contained],{item:null,isTreeNode:true,label:"",isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:dojo.cache("dijit","templates/TreeNode.html","<div class=\"dijitTreeNode\" waiRole=\"presentation\"\n\t><div dojoAttachPoint=\"rowNode\" class=\"dijitTreeRow\" waiRole=\"presentation\" dojoAttachEvent=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"expandoNode\" class=\"dijitTreeExpando\" waiRole=\"presentation\"\n\t\t><span dojoAttachPoint=\"expandoNodeText\" class=\"dijitExpandoText\" waiRole=\"presentation\"\n\t\t></span\n\t\t><span dojoAttachPoint=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" waiRole=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"iconNode\" class=\"dijitTreeIcon\" waiRole=\"presentation\"\n\t\t\t><span dojoAttachPoint=\"labelNode\" class=\"dijitTreeLabel\" wairole=\"treeitem\" tabindex=\"-1\" waiState=\"selected-false\" dojoAttachEvent=\"onfocus:_onLabelFocus, onblur:_onLabelBlur\"></span>\n\t\t</span\n\t></div>\n\t<div dojoAttachPoint=\"containerNode\" class=\"dijitTreeContainer\" waiRole=\"presentation\" style=\"display: none;\"></div>\n</div>\n"),attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"labelNode",type:"innerText"},tooltip:{node:"rowNode",type:"attribute",attribute:"title"}}),postCreate:function(){this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){dijit.setWaiState(this.labelNode,"expanded",this.isExpanded);}},_setIndentAttr:function(_1f1){this.indent=_1f1;var _1f2=(Math.max(_1f1,0)*this.tree._nodePixelIndent)+"px";dojo.style(this.domNode,"backgroundPosition",_1f2+" 0px");dojo.style(this.rowNode,dojo._isBodyLtr()?"paddingLeft":"paddingRight",_1f2);dojo.forEach(this.getChildren(),function(_1f3){_1f3.attr("indent",_1f1+1);});},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_1f4=tree.model;if(tree._v10Compat&&item===_1f4.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");},_applyClassAndStyle:function(item,_1f5,_1f6){var _1f7="_"+_1f5+"Class";var _1f8=_1f5+"Node";if(this[_1f7]){dojo.removeClass(this[_1f8],this[_1f7]);}this[_1f7]=this.tree["get"+_1f6+"Class"](item,this.isExpanded);if(this[_1f7]){dojo.addClass(this[_1f8],this[_1f7]);}dojo.style(this[_1f8],this.tree["get"+_1f6+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _1f9=this.getParent();if(!_1f9||_1f9.rowNode.style.display=="none"){dojo.addClass(this.domNode,"dijitTreeIsRoot");}else{dojo.toggleClass(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_1fa){var _1fb=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_1fc=["*","-","+","*"],idx=_1fa?0:(this.isExpandable?(this.isExpanded?1:2):3);dojo.removeClass(this.expandoNode,_1fb);dojo.addClass(this.expandoNode,_1fb[idx]);this.expandoNodeText.innerHTML=_1fc[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}this._wipeOut&&this._wipeOut.stop();this.isExpanded=true;dijit.setWaiState(this.labelNode,"expanded","true");dijit.setWaiRole(this.containerNode,"group");dojo.addClass(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode){dijit.setWaiState(this.tree.domNode,"expanded","true");}var def,_1fd=dojo.fx.wipeIn({node:this.containerNode,duration:dijit.defaultDuration,onEnd:function(){def.callback(true);}});def=(this._expandDeferred=new dojo.Deferred(function(){_1fd.stop();}));_1fd.play();return def;},collapse:function(){if(!this.isExpanded){return;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;dijit.setWaiState(this.labelNode,"expanded","false");if(this==this.tree.rootNode){dijit.setWaiState(this.tree.domNode,"expanded","false");}dojo.removeClass(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(!this._wipeOut){this._wipeOut=dojo.fx.wipeOut({node:this.containerNode,duration:dijit.defaultDuration});}this._wipeOut.play();},indent:0,setChildItems:function(_1fe){var tree=this.tree,_1ff=tree.model,defs=[];this.getChildren().forEach(function(_200){dijit._Container.prototype.removeChild.call(this,_200);},this);this.state="LOADED";if(_1fe&&_1fe.length>0){this.isExpandable=true;dojo.forEach(_1fe,function(item){var id=_1ff.getIdentity(item),_201=tree._itemNodesMap[id],node;if(_201){for(var i=0;i<_201.length;i++){if(_201[i]&&!_201[i].getParent()){node=_201[i];node.attr("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_1ff.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),indent:this.indent+1});if(_201){_201.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(item)){defs.push(tree._expandNode(node));}},this);dojo.forEach(this.getChildren(),function(_202,idx){_202._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setSelected(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}return new dojo.DeferredList(defs);},removeChild:function(node){this.inherited(arguments);var _203=this.getChildren();if(_203.length==0){this.isExpandable=false;this.collapse();}dojo.forEach(_203,function(_204){_204._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},_onLabelFocus:function(evt){dojo.addClass(this.labelNode,"dijitTreeLabelFocused");this.tree._onNodeFocus(this);},_onLabelBlur:function(evt){dojo.removeClass(this.labelNode,"dijitTreeLabelFocused");},setSelected:function(_205){var _206=this.labelNode;_206.setAttribute("tabIndex",_205?"0":"-1");dijit.setWaiState(_206,"selected",_205);dojo.toggleClass(this.rowNode,"dijitTreeNodeSelected",_205);},_onClick:function(evt){this.tree._onClick(this,evt);},_onDblClick:function(evt){this.tree._onDblClick(this,evt);},_onMouseEnter:function(evt){dojo.addClass(this.rowNode,"dijitTreeNodeHover");this.tree._onNodeMouseEnter(this,evt);},_onMouseLeave:function(evt){dojo.removeClass(this.rowNode,"dijitTreeNodeHover");this.tree._onNodeMouseLeave(this,evt);}});dojo.declare("dijit.Tree",[dijit._Widget,dijit._Templated],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],path:[],selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:dojo.cache("dijit","templates/Tree.html","<div class=\"dijitTree dijitTreeContainer\" waiRole=\"tree\"\n\tdojoAttachEvent=\"onkeypress:_onKeyPress\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" dojoAttachPoint=\"indentDetector\"></div>\n</div>\n"),persist:true,autoExpand:false,dndController:null,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_207,_208){dojo.publish(this.id,[dojo.mixin({tree:this,event:_207},_208||{})]);},postMixInProperties:function(){this.tree=this;this._itemNodesMap={};if(!this.cookieName){this.cookieName=this.id+"SaveStateCookie";}this._loadDeferred=new dojo.Deferred();this.inherited(arguments);},postCreate:function(){this._initState();if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this._load();this.inherited(arguments);if(this.dndController){if(dojo.isString(this.dndController)){this.dndController=dojo.getObject(this.dndController);}var _209={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_209[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_209);}},_store2model:function(){this._v10Compat=true;dojo.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _20a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_20a.mayHaveChildren=dojo.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_20a.getChildren=dojo.hitch(this,function(item,_20b,_20c){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_20b,_20c);});}this.model=new dijit.tree.ForestStoreModel(_20a);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(dojo.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";}this.domNode.appendChild(rn.domNode);var _20d=this.model.getIdentity(item);if(this._itemNodesMap[_20d]){this._itemNodesMap[_20d].push(rn);}else{this._itemNodesMap[_20d]=[rn];}rn._updateLayout();this._expandNode(rn).addCallback(dojo.hitch(this,function(){this._loadDeferred.callback(true);this.onLoad();}));}),function(err){console.error(this,": error loading root: ",err);});},getNodesByItem:function(item){if(!item){return [];}var _20e=dojo.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_20e]);},_setSelectedItemAttr:function(item){var _20f=this.attr("selectedItem");var _210=(!item||dojo.isString(item))?item:this.model.getIdentity(item);if(_210==_20f?this.model.getIdentity(_20f):null){return;}var _211=this._itemNodesMap[_210];if(_211&&_211.length){this.focusNode(_211[0]);}else{if(this.lastFocused){this.lastFocused.setSelected(false);this.lastFocused=null;}}},_getSelectedItemAttr:function(){return this.lastFocused&&this.lastFocused.item;},_setPathAttr:function(path){if(!path||!path.length){return;}this._loadDeferred.addCallback(dojo.hitch(this,function(){if(!this.rootNode){return;}if(path[0]!==this.rootNode.item&&(dojo.isString(path[0])&&path[0]!=this.model.getIdentity(this.rootNode.item))){console.error(this,":path[0] doesn't match this.rootNode.item.  Maybe you are using the wrong tree.");return;}path.shift();var node=this.rootNode;function _212(){var item=path.shift(),_213=dojo.isString(item)?item:this.model.getIdentity(item);dojo.some(this._itemNodesMap[_213],function(n){if(n.getParent()==node){node=n;return true;}return false;});if(path.length){this._expandNode(node).addCallback(dojo.hitch(this,_212));}else{if(this.lastFocused!=node){this.focusNode(node);}}};this._expandNode(node).addCallback(dojo.hitch(this,_212));}));},_getPathAttr:function(){if(!this.lastFocused){return;}var res=[];var _214=this.lastFocused;while(_214&&_214!==this.rootNode){res.unshift(_214.item);_214=_214.getParent();}res.unshift(this.rootNode.item);return res;},mayHaveChildren:function(item){},getItemChildren:function(_215,_216){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_217){return (!item||this.model.mayHaveChildren(item))?(_217?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(item,_218){},getRowClass:function(item,_219){},getIconStyle:function(item,_21a){},getLabelStyle:function(item,_21b){},getRowStyle:function(item,_21c){},getTooltip:function(item){return "";},_onKeyPress:function(e){if(e.altKey){return;}var dk=dojo.keys;var _21d=dijit.getEnclosingWidget(e.target);if(!_21d){return;}var key=e.charOrCode;if(typeof key=="string"){if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){this._onLetterKeyNav({node:_21d,key:key.toLowerCase()});dojo.stopEvent(e);}}else{if(this._curSearch){clearTimeout(this._curSearch.timer);delete this._curSearch;}var map=this._keyHandlerMap;if(!map){map={};map[dk.ENTER]="_onEnterKey";map[this.isLeftToRight()?dk.LEFT_ARROW:dk.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?dk.RIGHT_ARROW:dk.LEFT_ARROW]="_onRightArrow";map[dk.UP_ARROW]="_onUpArrow";map[dk.DOWN_ARROW]="_onDownArrow";map[dk.HOME]="_onHomeKey";map[dk.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){this[this._keyHandlerMap[key]]({node:_21d,item:_21d.item,evt:e});dojo.stopEvent(e);}}},_onEnterKey:function(_21e,evt){this._publish("execute",{item:_21e.item,node:_21e.node});this.onClick(_21e.item,_21e.node,evt);},_onDownArrow:function(_21f){var node=this._getNextNode(_21f.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_220){var node=_220.node;var _221=node.getPreviousSibling();if(_221){node=_221;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _222=node.getChildren();node=_222[_222.length-1];}}else{var _223=node.getParent();if(!(!this.showRoot&&_223===this.rootNode)){node=_223;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_224){var node=_224.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_225){var node=_225.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _226=node.getParent();if(_226&&_226.isTreeNode&&!(!this.showRoot&&_226===this.rootNode)){this.focusNode(_226);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(_227){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_228){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_228.key;clearTimeout(cs.timer);}else{cs=this._curSearch={pattern:_228.key,startNode:_228.node};}var self=this;cs.timer=setTimeout(function(){delete self._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},_onClick:function(_229,e){var _22a=e.target;if((this.openOnClick&&_229.isExpandable)||(_22a==_229.expandoNode||_22a==_229.expandoNodeText)){if(_229.isExpandable){this._onExpandoClick({node:_229});}}else{this._publish("execute",{item:_229.item,node:_229,evt:e});this.onClick(_229.item,_229,e);this.focusNode(_229);}dojo.stopEvent(e);},_onDblClick:function(_22b,e){var _22c=e.target;if((this.openOnDblClick&&_22b.isExpandable)||(_22c==_22b.expandoNode||_22c==_22b.expandoNodeText)){if(_22b.isExpandable){this._onExpandoClick({node:_22b});}}else{this._publish("execute",{item:_22b.item,node:_22b,evt:e});this.onDblClick(_22b.item,_22b,e);this.focusNode(_22b);}dojo.stopEvent(e);},_onExpandoClick:function(_22d){var node=_22d.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(item,node,evt){},onDblClick:function(item,node,evt){},onOpen:function(item,node){},onClose:function(item,node){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _22e=node.getNextSibling();if(_22e){return _22e;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.isExpandable){if(node.state=="LOADING"){return;}node.collapse();this.onClose(node.item,node);if(node.item){this._state(node.item,false);this._saveState();}}},_expandNode:function(node,_22f){if(node._expandNodeDeferred&&!_22f){return node._expandNodeDeferred;}var _230=this.model,item=node.item,_231=this;switch(node.state){case "UNCHECKED":node.markProcessing();var def=(node._expandNodeDeferred=new dojo.Deferred());_230.getChildren(item,function(_232){node.unmarkProcessing();var scid=node.setChildItems(_232);var ed=_231._expandNode(node,true);scid.addCallback(function(){ed.addCallback(function(){def.callback();});});},function(err){console.error(_231,": error loading root children: ",err);});break;default:def=(node._expandNodeDeferred=node.expand());this.onOpen(node.item,node);if(item){this._state(item,true);this._saveState();}}return def;},focusNode:function(node){dijit.focus(node.labelNode);},_onNodeFocus:function(node){if(node){if(node!=this.lastFocused&&this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setSelected(false);}node.setSelected(true);this.lastFocused=node;}},_onNodeMouseEnter:function(node){},_onNodeMouseLeave:function(node){},_onItemChange:function(item){var _233=this.model,_234=_233.getIdentity(item),_235=this._itemNodesMap[_234];if(_235){var self=this;dojo.forEach(_235,function(node){node.attr({label:self.getLabel(item),tooltip:self.getTooltip(item)});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_236,_237){var _238=this.model,_239=_238.getIdentity(_236),_23a=this._itemNodesMap[_239];if(_23a){dojo.forEach(_23a,function(_23b){_23b.setChildItems(_237);});}},_onItemDelete:function(item){var _23c=this.model,_23d=_23c.getIdentity(item),_23e=this._itemNodesMap[_23d];if(_23e){dojo.forEach(_23e,function(node){var _23f=node.getParent();if(_23f){_23f.removeChild(node);}node.destroyRecursive();});delete this._itemNodesMap[_23d];}},_initState:function(){if(this.persist){var _240=dojo.cookie(this.cookieName);this._openedItemIds={};if(_240){dojo.forEach(_240.split(","),function(item){this._openedItemIds[item]=true;},this);}}},_state:function(item,_241){if(!this.persist){return false;}var id=this.model.getIdentity(item);if(arguments.length===1){return this._openedItemIds[id];}if(_241){this._openedItemIds[id]=true;}else{delete this._openedItemIds[id];}},_saveState:function(){if(!this.persist){return;}var ary=[];for(var id in this._openedItemIds){ary.push(id);}dojo.cookie(this.cookieName,ary.join(","),{expires:365});},destroy:function(){if(this._curSearch){clearTimeout(this._curSearch.timer);delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!dojo.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_242){if(_242){dojo.marginBox(this.domNode,_242);dojo.style(this.domNode,"overflow","auto");}this._nodePixelIndent=dojo.marginBox(this.tree.indentDetector).w;if(this.tree.rootNode){this.tree.rootNode.attr("indent",this.showRoot?0:-1);}},_createTreeNode:function(args){return new dijit._TreeNode(args);}});}
